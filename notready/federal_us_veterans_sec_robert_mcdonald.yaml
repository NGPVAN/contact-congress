bioguide: federal_us_veterans_sec_robert_mcdonald
contact_form:
  method: post
  action: ""
  steps:
    - visit: "https://iris.custhelp.com/app/ask/"
    - fill_in:
      - name: firstname
        selector: "input#rn_TextLogicInput_7_first_name"
        value: $NAME_FIRST
        required: true
      - name: lastname
        selector: "input#rn_TextLogicInput_9_last_name"
        value: $NAME_LAST
        required: true
      - name: email
        selector: "input#rn_TextLogicInput_11_incomingemail"
        value: $EMAIL
        required: true
    - find:
      - selector: input#rn_TextLogicInput_11_incomingemail_confirm
    - fill_in:
      - name: email2
        selector: "input#rn_TextLogicInput_11_incomingemail_confirm"
        value: $EMAIL
        required: true
      - name: phone
        selector: "input#rn_TextLogicInput_12_telephone_number"
        value: $PHONE
        required: false
      - name: street
        selector: "input#rn_TextLogicInput_14_street"
        value: $ADDRESS_STREET
        required: false
      - name: city
        selector: "input#rn_TextLogicInput_15_city"
        value: $ADDRESS_CITY
        required: false
      - name: zip5
        selector: "input#rn_TextLogicInput_17_zipcode"
        value: $ADDRESS_ZIP5
        required: true
      - name: message
        selector: "textarea#rn_TextLogicInput_0_thread"
        value: $MESSAGE
        required: true
    - select:
      - name: topic
        selector: "select#rn_ProductCategoryInputSimple_1_lvl1"
        value: All Health
        required: true
    - find:
      - selector: "select#rn_ProductCategoryInputSimple_1_lvl2"
    - select:
      - name: sub-topic-1
        selector: "select#rn_ProductCategoryInputSimple_1_lvl2"
        value: Health
        required: true
    - find:
      - selector: "select#rn_ProductCategoryInputSimple_1_lvl3"
    - select:
      - name: sub-topic-2
        selector: "select#rn_ProductCategoryInputSimple_1_lvl3"
        value: Medical Care for Veterans within USA
        required: true
      - name: inquiry-type
        selector: select#rn_ProductCategoryInputSimple_4_lvl1
        value: Question
        required: true
      - name: response
        selector: select#rn_SelectionInput_5_form_of_response
        value: E-Mail
        required: true
      - name: prefix
        selector: select#rn_SelectionLogicInput_6_form_of_address
        value: $NAME_PREFIX
        required: true
        options:
          Mr.: Mr.
          Miss: Miss
          Mrs.: Mrs.
          Ms.: Ms.
          Dr.: Dr.
          Rev.: Rev.
      - name: country
        selector: select#rn_SelectionLogicInput_13_country
        value: United States
        required: true
      - name: state
        selector: select#rn_SelectionLogicInput_16_state
        value: $ADDRESS_STATE_FULL
        required: true
        options:
      - name: veteran-status
        selector: select#rn_SelectionLogicInput_18_vet_status
        value: a General Question
        required: true
    - click_on:
      - value: Submit
        selector: "input#rn_FormSubmit_55_Button"
    - find:
      - selector: div#rnDialog1_c div#rnDialog1 div.ft span.button-group button#rnDialog1_Button_0
    - click_on:
      - value: Finish Submitting Question
        selector: div#rnDialog1_c div#rnDialog1 div.ft span.button-group button#rnDialog1_Button_0
    - find:
      - selector: div#rn_PageContent div.rn_Padding
  success:
    headers:
      status: 200
    body:
      contains: "This confirms receipt of the electronic message you just sent to the Department of Veterans Affairs"

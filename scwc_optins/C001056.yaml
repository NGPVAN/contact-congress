bioguide: C001056
contact_form:
  steps:
    - visit: "https://www.cornyn.senate.gov/node/5853"
    - find:
      - selector: input#edit-submitted-first-name
    - fill_in:
      - name: First Name
        selector: input#edit-submitted-first-name
        value: $NAME_FIRST
        required: true
      - name: Last Name
        selector: input#edit-submitted-last-name
        value: $NAME_LAST
        required: true
      - name: Email
        selector: input#edit-submitted-email
        value: $EMAIL
        required: true
      - name: phone
        selector: "#edit-submitted-phone-number"
        value: $PHONE
        required: true
      - name: Street
        selector: "#edit-submitted-address-thoroughfare"
        value: $ADDRESS_STREET
        required: true
      - name: City
        selector: "#edit-submitted-address-locality"
        value: $ADDRESS_CITY
        required: true
      - name: ZipCode
        selector: "#edit-submitted-address-postal-code"
        value: $ADDRESS_ZIP5
        required: true
      - name: message
        selector: "#edit-submitted-write-a-brief-message"
        value: $MESSAGE
        required: true
    - javascript:
      - name: char replace
        selectors: ["#edit-submitted-write-a-brief-message"]
        commands: ["for(var i = 0; i < elements.length; i++) { elements[i].value = elements[i].value.replace(/[(]/g,'[').replace(/[)]/g,']').replace(/(%2[0C])/g, '');}"]
        required: true
    - select:
      - name: Topic
        selector: "#edit-submitted-please-select-an-issue-youd-like-to-discuss"
        value: $TOPIC
        required: true
        options:
          Abortion: Abortion
          Agriculture: Agriculture
          Arts and Humanities: Arts and Humanities
          Banking: Banking
          Budget: Budget
          Criminal Justice: Criminal Justice
          Defense: Defense
          Education: Education
          Election Reform: Election Reform
          Energy: Energy
          Environment: Environment
          Finance: Finance
          Firearms: Firearms
          Foreign Affairs: Foreign Affairs
          Healthcare: Healthcare
          Housing: Housing
          Immigration: Immigration
          Interior: Interior
          Judiciary: Judiciary
          Labor: Labor
          Law Enforcement: Law Enforcement
          Medicare: Medicare
          Religion: Religion
          Service Academies: Service Academies
          Small Business: Small Business
          Social Security: Social Security
          Taxes/Economy: Taxes/Economy
          Telecommunications: Telecommunications
          Trade: Trade
          Transportation: Transportation
          Veterans: Veterans
          Welfare: Welfare
      - name: State
        selector: "#edit-submitted-address-administrative-area"
        value: Texas
        required: true
    - find:
      - selector: "#edit-submitted-e-newsletter-opt-in-1"
    - click_on:
      - name: Newsletter opt out 
        selector: "#edit-submitted-e-newsletter-opt-in-1"
      - name: Submit
        selector: input[type='submit'][value='Submit'] 
    - find:
      - selector: div.webform-confirmation
    - find:
      - selector: div.webform-confirmation
  success:
    body:
      contains: Your message to Senator Cornyn's office has been submitted

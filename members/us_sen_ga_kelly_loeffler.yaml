bioguide: us_sen_ga_kelly_loeffler
contact_form:
  method: post
  usephantomjslogging: true
  steps:
    - visit: "https://www.loeffler.senate.gov/connect/email-kelly"
    - find:
      - selector: "#edit-prefix"
    - select:
      - name: Your Prefix
        selector: "#edit-prefix"
        value: $NAME_PREFIX
        required: true
        options:
          Mr.: Mr.
          Mrs.: Mrs.
          Ms.: Ms.
          Mr. and Mrs.: Mr. and Mrs.
          Dr.: Dr.
          Dr. and Mrs.: Dr. and Mrs.
          Dr. and Mr.: Dr. and Mr.
      - name: Topic
        selector: "#edit-topic"
        value: $TOPIC
        required: true
        options:
          Abortion: Abortion
          Adoption: Adoption
          Aging: Aging
          Agriculture: Agriculture
          Animal Welfare: Animal Welfare
          Appropriations: Appropriations
          Banking: Banking
          Campaign Finance: Campaign Finance
          Children: Children
          Civil Rights: Civil Rights
          Commerce: Commerce
          Communication: Communications
          Congresional Issues: Congresional Issues
          Crime: Crime
          Defense: Defense
          Drugs: Drugs
          Economy: Economy
          Education Higher: Education Higher
          Education K through 12: Education K through 12
          Elections: Elections
          Energy: Energy
          Environment: Environment
          Family: Family
          Food Stamps: Food Stamps
          Foreign Affairs: Foreign Affairs
          Gun Control: Gun Control
          Health: Health
          Housing: Housing
          Immigration: Immigration
          Insurance Health: Insurance Health
          Insurance Other: Insurance Other
          Interior: Interior
          Iran: Iran
          Iraq: Iraq
          Judiciary: Judiciary
          Labor: Labor
          Medicaid: Medicaid
          Medicare: Medicare
          Military: Military
          NASA: NASA
          Nutrition: Nutrition
          Other: Other
          Patents: Patents
          Pensions: Pensions
          Securities: Securities
          Small Business: Small Business
          Social Security: Social Security
          Taxes: Taxes
          Tobacco: Tobacco
          Trade: Trade
          Transportation: Transportation
          Veterans: Veterans
          Welfare: Welfare
    - fill_in:
      - name: First name
        selector: "#edit-first-name"
        value: $NAME_FIRST
        required: true
      - name: Last name
        selector: "#edit-last-name"
        value: $NAME_LAST
        required: true
      - name: Street
        selector: "#edit-address-1"
        value: $ADDRESS_STREET
        required: true
      - name: Street2
        selector: "#edit-address-2"
        value: $ADDRESS_STREET_2
        required: false
      - name: City
        selector: "#edit-city"
        value: $ADDRESS_CITY
        required: true
      - name: zip
        selector: "#edit-zip"
        value: $ADDRESS_ZIP5
        required: true
      - name: phone
        selector: "#edit-phone"
        value: $PHONE
        required: false
      - name: email
        selector: "#edit-email"
        value: $EMAIL
        required: true
      - name: Subject
        selector: "#edit-subject"
        value: $SUBJECT
        required: true
      - name: Message
        selector: "#edit-message"
        value: $MESSAGE
        required: true
    - javascript:
      - name: char replace
        values: ["$MESSAGE"]
        selectors: ["#edit-message"]
        commands: ["for(var i = 0; i < elements.length; i++) { elements[i].value = values[i].replace(/(%2[0C])/g, '');}"]
        required: true
    - click_on:
      - value: Submit
        selector: button#edit-actions-submit
    - find:
      - selector: div.wrap-messages div h4
  success:
    headers:
      status: 200
    body:
      contains: Thank you

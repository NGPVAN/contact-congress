#US Senator Adam Schiff
bioguide: FCAS22197_193010
contact_form:
  driver: chrome
  steps:
    - visit: "https://www.schiff.senate.gov/contact/"
    - wait: 
      - value: 2
    - fill_in:
      - name: first
        selector: input#input_2_2
        value: $NAME_FIRST
        required: true
      - name: last
        selector: input#input_2_3
        value: $NAME_LAST
        required: true
      - name: street
        selector: input#input_2_6_1
        value: $ADDRESS_STREET
        required: true
      - name: street2
        selector: input#input_2_6_2
        value: $ADDRESS_STREET_2
        required: false
      - name: city
        selector: input#input_2_6_3
        value: $ADDRESS_CITY
        required: true
      - name: zip5
        selector: input#input_2_6_5
        value: $ADDRESS_ZIP5
        required: true
      - name: phone
        selector: input#input_2_41
        value: $PHONE
        required: false
      - name: email
        selector: input#input_2_9
        value: $EMAIL
        required: true
      - name: verify email
        selector: input#input_2_9_2
        value: $EMAIL
        required: true
      - name: subject
        selector: input#input_2_11
        value: $SUBJECT
        required: true
      - name: message
        selector: textarea#input_2_12
        value: $MESSAGE
        required: true
        options:
          max_length: 2970
    - javascript:
      - name: char replace
        selectors: ["textarea#form-field-field_01539f0"]
        commands: ["for(var i = 0; i < elements.length; i++) { elements[i].value = elements[i].value.replace(/(%2[0])/g, '').replace(/(;)/g,'').replace(/(â€”)/g,'').replace(/(-)/g,'').replace(/(%2[0C])/g, '').replace(/(CC:)/g,'CC').replace(/[(]/g,'[').replace(/[)]/g,']');}"]
        required: true
    - select:
      - name: prefix
        selector: select#input_2_39
        value: $PREFIX
        required: true
        options: 
          Mr.: Mr. 
          Mrs.: Mrs.
          Prefer not to identify: Prefer not to identify
          M.: M. 
          Mx.: Mx. 
          Ms.: Ms. 
          Miss: Miss
          Professor: Professor
          Dean: Dean
          The Honorable: The Honorable
          Dr.: Dr. 
      - name: topic
        selector: select#input_2_17
        value: $TOPIC
        required: true
        options:
          AG: Agriculture
          BUD: Budget
          CHILD: Children
          CF: Election Reform
          ENV: Energy/Environment
          HE: Health
          HOUSING: Housing
          IMM: Immigrant
          JUD: Judiciary
          LAB: Labor
          DEF: Defense
          LAB: Retirement
          TAX: Taxes
          TEL: Technology
          TRD: Trade
          TRAN: Transportation
          VET: Veteran
      - name: state
        selector: select#input_2_6_4
        value: $ADDRESS_STATE_FULL
        required: true
        options:
          AL: Alabama
          AK: Alaska
          AZ: Arizona
          AR: Arkansas
          CA: California
          CO: Colorado
          CT: Connecticut
          DE: Delaware
          DC: Washington DC
          FL: Florida
          GA: Georgia
          Hi: Hawaii
          ID: Idaho
          IL: Illinois
          IN: Indiana
          IA: Iowa
          KS: Kansas
          KY: Kentucky
          LA: Louisiana
          ME: Maine
          MD: Maryland
          MA: Massachussetts
          MI: Michigan
          MN: Minnesota
          MS: Mississippi
          MO: Missouri
          MT: Montana
          NE: Nebraska
          NV: Nevada
          NH: New Hampshire
          NJ: New Jersey
          NM: New Mexico
          NY: New York
          NC: North Carolina
          ND: North Dakota
          OH: Ohio
          OK: Oklahoma
          OR: Oregon
          PA: Pennsylvania
          RI: Rhode Island
          SC: South Carolina
          SD: South Dakota
          TN: Tennessee
          TX: Texas
          UT: Utah
          VT: Vermont
          VA: Virginia
          WA: Washington
          WV: West Virginia
          WI: Wisconsin
          WY: Wyoming
    - wait: 
      - value: 2
    - click_on:
      - value: Submit
        selector: "#gform_submit_button_2"
    - wait: 
      - value: 7
  success:
    body:
      contains: "Thank you"
